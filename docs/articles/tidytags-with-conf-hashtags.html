<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using tidytags with a conference hashtag • tidytags</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using tidytags with a conference hashtag">
<meta property="og:description" content="tidytags">
<meta property="og:image" content="https://docs.ropensci.org/tidytags/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidytags</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/setup.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/setup.html">Getting started with tidytags</a>
    </li>
    <li>
      <a href="../articles/tidytags-with-conf-hashtags.html">Using tidytags with a conference hashtag</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/tidytags" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using tidytags with a conference hashtag</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/tidytags/blob/HEAD/vignettes/tidytags-with-conf-hashtags.Rmd" class="external-link"><code>vignettes/tidytags-with-conf-hashtags.Rmd</code></a></small>
      <div class="hidden name"><code>tidytags-with-conf-hashtags.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/tidytags/">tidytags</a></span><span class="op">)</span></span></code></pre></div>
<p>This vignette serves as an introduction to how to use many
<strong>tidytags</strong> functions through the example of analyzing
tweets associated with the 2019 annual convention of the <a href="https://aect.org/" class="external-link">Association for Educational Communications
&amp; Technology</a> (AECT): <code>#aect19</code>,
<code>#aect2019</code>, or <code>#aect19inspired</code>. The information
in this vignette is available scattered throughout the R documentation
for the <strong>tidytags</strong> package. This vignette conveniently
brings it all together in one place.</p>
<div class="section level2">
<h2 id="considerations-related-to-ethics-data-privacy-and-human-subjects-research">Considerations Related to Ethics, Data Privacy, and Human Subjects
Research<a class="anchor" aria-label="anchor" href="#considerations-related-to-ethics-data-privacy-and-human-subjects-research"></a>
</h2>
<p>Before working through this demonstration of the capabilities of
<strong>tidytags</strong>, please take a few moments to reflect on
ethical considerations related to social media research.</p>
<p><strong>{tidytags} should be used in strict accordance with Twitter’s
<a href="https://developer.twitter.com/en/developer-terms/more-on-restricted-use-cases" class="external-link">developer
terms</a>.</strong></p>
<p>Although most Institutional Review Boards (IRBs) consider the Twitter
data that {tidytags} analyzes to <em>not</em> necessarily be human
subjects research, there remain ethical considerations pertaining to the
use of the {tidytags} package that should be discussed.</p>
<p>Even if {tidytags} use is not for research purposes (or if an IRB
determines that a study is not human subjects research), “the release of
personally identifiable or sensitive data is potentially harmful,” as
noted in the <a href="https://devguide.ropensci.org/policies.html#ethics-data-privacy-and-human-subjects-research" class="external-link">rOpenSci
Packages guide</a>. Therefore, although you <em>can</em> collect Twitter
data (and you <em>can</em> use {tidytags} to analyze it), we urge care
and thoughtfulness regarding how you analyze the data and communicate
the results. In short, please remember that most (if not all) of the
data you collect may be about people—and <a href="https://journals.sagepub.com/doi/full/10.1177/2056305118763366" class="external-link">those
people may not like the idea of their data being analyzed or included in
research</a>.</p>
<p>We recommend <a href="https://aoir.org/ethics/" class="external-link">the Association of
Internet Researchers’ (AoIR) resources related to conducting analyses in
ethical ways</a> when working with data about people. AoIR’s <a href="https://aoir.org/reports/ethics3.pdf" class="external-link">ethical guidelines</a> may
be especially helpful for navigating tensions related to collecting,
analyzing, and sharing social media data.</p>
</div>
<div class="section level2">
<h2 id="twitter-archiving-google-sheets">Twitter Archiving Google Sheets<a class="anchor" aria-label="anchor" href="#twitter-archiving-google-sheets"></a>
</h2>
<p>A core functionality of <strong>tidytags</strong> is collecting
tweets continuously with a <a href="https://tags.hawksey.info/" class="external-link">Twitter
Archiving Google Sheet</a> (TAGS).</p>
<p>For help setting up your own TAGS tracker, see the “Getting started
with tidytags” (<code><a href="../articles/setup.html">vignette("setup", package = "tidytags")</a></code>)
vignette, <strong>Key Task #1</strong>.</p>
</div>
<div class="section level2">
<h2 id="read_tags">read_tags()<a class="anchor" aria-label="anchor" href="#read_tags"></a>
</h2>
<p>To simply view a TAGS archive in R, you can use
<code><a href="../reference/read_tags.html">read_tags()</a></code>. Here, we’ve openly shared a <a href="https://docs.google.com/spreadsheets/d/18clYlQeJOc6W5QRuSlJ6_v3snqKJImFhU42bRkM_OX8" class="external-link">TAGS
tracker</a> that has been collecting tweets associated with the AECT
2019 since September 30, 2019. Notice that this TAGS tracker is
collecting tweets containing three different hashtags:
<code>#aect19</code>, <code>#aect2019</code>, or
<code>#aect19inspired</code>. As of August 5, 2022, this tracker had
collected <strong>2,564 tweets</strong>. This tracker is active through
today, although these hashtags seems to be largely inactive in recent
years.</p>
<p><strong>tidytags</strong> allows you to work in R with tweets
collected by a TAGS tracker. This is done with the <a href="https://CRAN.R-project.org/package=googlesheets4" class="external-link"><strong>googlesheets4</strong>
package</a>.</p>
<p>One requirement for using {googlesheets4} is that your TAGS tracker
has been “published to the web.” To do this, with the TAGS page open in
a web browser, go to
<code>File &gt;&gt; Share &gt;&gt; Publish to the web</code>. The
<code>Link</code> field should be ‘Entire document’ and the
<code>Embed</code> field should be ‘Web page.’ If everything looks
right, then click the <code>Publish</code> button. Next, click the
<code>Share</code> button in the top right corner of the Google Sheets
window, select <code>Get shareable link</code>, and set the permissions
to ‘Anyone with the link can view.’ The input needed for the
<code><a href="../reference/read_tags.html">tidytags::read_tags()</a></code> function is either the entire URL
from the top of the web browser when opened to a TAGS tracker, or a
Google Sheet identifier (i.e., the alphanumeric string following
<code>https://docs.google.com/spreadsheets/d/</code> in the TAGS
tracker’s URL). Be sure to put quotations marks around the URL or sheet
identifier when entering it into <code><a href="../reference/read_tags.html">read_tags()</a></code> function.</p>
<p>Again, if you’re having trouble setting up or publishing the TAGS
tracker, see the “Getting started with tidytags” vignette
(<code><a href="../articles/setup.html">vignette("setup", package = "tidytags")</a></code>), <strong>Key Task
#1</strong>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tags_url</span> <span class="op">&lt;-</span> <span class="st">"18clYlQeJOc6W5QRuSlJ6_v3snqKJImFhU42bRkM_OX8"</span></span>
<span><span class="va">example_df_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_tags.html">read_tags</a></span><span class="op">(</span><span class="va">tags_url</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">example_df_all</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2564   18</span></span></code></pre></div>
<p><strong>Note that there are alternative ways to access TAGS
files.</strong> One way is to simply download a CSV file from Google
Sheets. In Google Sheets, navigate to
<code>File &gt;&gt; Download &gt;&gt; Comma-separated values (CSV)</code>
to do so. Be sure to do so from the TAGS Archive page. Once this file is
downloaded, you can read it into R like any other CSV.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_df_all</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"my-downloaded-tags-file.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="pull_tweet_data">pull_tweet_data()<a class="anchor" aria-label="anchor" href="#pull_tweet_data"></a>
</h2>
<p>With a TAGS tracker archive imported into R,
<strong>tidytags</strong> allows you to gather quite a bit more
information related to the TAGS-collected tweets with the
<code><a href="../reference/pull_tweet_data.html">pull_tweet_data()</a></code> function. This function builds off the <a href="https://docs.ropensci.org/rtweet/" class="external-link"><strong>rtweet</strong>
package</a> (via <code><a href="https://docs.ropensci.org/rtweet/reference/lookup_tweets.html" class="external-link">rtweet::lookup_tweets()</a></code> and
<code><a href="https://docs.ropensci.org/rtweet/reference/users_data.html" class="external-link">rtweet::users_data()</a></code>) to query the Twitter API.</p>
<p>However, <strong>to access the Twitter API, whether through rtweet or
tidytags, you will need to apply for developers’ access from
Twitter</strong>. You do this <a href="https://developer.twitter.com/en/apply-for-access" class="external-link">through
Twitter’s developer website</a>.</p>
<p>The <strong>rtweet</strong> documentation already contains a very
thorough vignette, “Authentication with rtweet”
(<code><a href="https://docs.ropensci.org/rtweet/articles/auth.html" class="external-link">vignette("auth", package = "rtweet")</a></code>), to guide you
through the process of authenticating access to the Twitter API. We
recommend the <strong>app-based authentication</strong> method that uses
<code>auth &lt;- rtweet::rtweet_app()</code>, described in the <a href="https://docs.ropensci.org/rtweet/articles/auth.html#apps" class="external-link">Apps</a>
section of the vignette.</p>
<p>For further help getting your own Twitter API keys, see the “Getting
started with tidytags” vignette
(<code><a href="../articles/setup.html">vignette("setup", package = "tidytags")</a></code>), specifically
<strong>Pain Point #2</strong>.</p>
<p>Note that your dataset will often contain fewer rows after running
<code><a href="../reference/pull_tweet_data.html">pull_tweet_data()</a></code>. This is because
<code><a href="https://docs.ropensci.org/rtweet/reference/lookup_tweets.html" class="external-link">rtweet::lookup_tweets()</a></code> is searching for tweet status IDs
that are currently available. Any tweets that have been deleted or made
“protected” (i.e., private) since TAGS first collected them are dropped
from the dataset. Rather than view this as a limitation, we see this as
an asset to help ensure our data better reflects the intentions of the
accounts whose tweets we have collected (see <a href="https://journals.sagepub.com/doi/full/10.1177/2056305118763366" class="external-link">Fiesler
&amp; Proferes, 2018</a>).</p>
<p>Here, we demonstrate two different ways of using
<code><a href="../reference/pull_tweet_data.html">pull_tweet_data()</a></code>. The first method is to query the Twitter
API with the tweet ID numbers from the <code>id_str</code> column
returned by <strong>rtweet</strong>. However, a limitation of TAGS is
that the numbers in this column are often corrupted because Google
Sheets considers them very large numbers (instead of character strings)
and rounds them by putting them into exponential form. The results of
this first method are stored in the variable
<code>example_after_rtweet_A</code> below. The second method pulls the
tweet ID numbers from the tweet URLs. For example, the tweet with the
URL
<code>https://twitter.com/tweet__example/status/1176592704647716864</code>
has a tweet ID of <code>1176592704647716864</code>. The results of this
second method are stored in the variable
<code>example_after_rtweet_B</code> below.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">rtweet</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/rtweet/reference/rtweet_user.html" class="external-link">rtweet_app</a></span><span class="op">(</span>bearer_token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"TWITTER_BEARER_TOKEN"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">rtweet</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/rtweet/reference/auth_as.html" class="external-link">auth_as</a></span><span class="op">(</span><span class="va">app</span><span class="op">)</span></span>
<span></span>
<span><span class="va">example_after_rtweet_A</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pull_tweet_data.html">pull_tweet_data</a></span><span class="op">(</span>id_vector <span class="op">=</span> <span class="va">example_df_all</span><span class="op">$</span><span class="va">id_str</span><span class="op">)</span></span>
<span><span class="va">example_after_rtweet_B</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pull_tweet_data.html">pull_tweet_data</a></span><span class="op">(</span>url_vector <span class="op">=</span> <span class="va">example_df_all</span><span class="op">$</span><span class="va">status_url</span><span class="op">)</span></span></code></pre></div>
<p>When this vignette was run on Aug 09 22, the TAGS tracker had
collected 18 variables associated with 2564 tweets. The first method
searching with <code>id_str</code> collected 66 variables associated
with 2195 tweets. The second method using
‘tidytags::get_char_tweet_ids()’ collected 66 variables associated with
2195 tweets.</p>
<p>Notice how many more variables are in the dataset after using
<code><a href="../reference/pull_tweet_data.html">pull_tweet_data()</a></code>, and how many more tweets are in the
dataset when using the second method. We have found that in the process
of storing and retrieving tweet IDs, the long string of numbers can
sometimes be interpreted as an object of type double (i.e., numeric) and
subsequently converted into scientific notation form. This loses the
specific identifying use of the string of numerical digits. Therefore,
we strongly recommend the second method, obtaining tweet IDs from the
tweet URL, which is why we have included
<code><a href="../reference/get_char_tweet_ids.html">get_char_tweet_ids()</a></code> as an internal function in the
<strong>tidytags</strong> package.</p>
<p>The built-in default of <code><a href="../reference/pull_tweet_data.html">pull_tweet_data()</a></code> is to simply
enter the dataframe retrieved from <code><a href="../reference/read_tags.html">read_tags()</a></code> and
implement the second method, retrieving metadata starting with tweet
URLs. That is, <code>pull_tweet_data(read_tags(example_url))</code>.
Take a quick look at the result, viewed with the <code>glimpse()</code>
function from the <strong>dplyr</strong> package:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_after_rtweet</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pull_tweet_data.html">pull_tweet_data</a></span><span class="op">(</span><span class="fu"><a href="../reference/read_tags.html">read_tags</a></span><span class="op">(</span><span class="va">tags_url</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">example_after_rtweet</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 2,195</span></span>
<span><span class="co">#&gt; Columns: 66</span></span>
<span><span class="co">#&gt; $ created_at                    &lt;dttm&gt; 2020-04-19 15:22:23, 2020-03-01 15:00:41, 2020…</span></span>
<span><span class="co">#&gt; $ id                            &lt;dbl&gt; 1.251954e+18, 1.234207e+18, 1.229405e+18, 1.225…</span></span>
<span><span class="co">#&gt; $ id_str                        &lt;chr&gt; "1251954312772812801", "1234206946732830720", "…</span></span>
<span><span class="co">#&gt; $ full_text                     &lt;chr&gt; "RT @RoutledgeEd: Congrats to authors Joseph Re…</span></span>
<span><span class="co">#&gt; $ truncated                     &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span></span>
<span><span class="co">#&gt; $ display_text_range            &lt;dbl&gt; 140, 140, 140, 140, 268, 140, 140, 140, 140, 14…</span></span>
<span><span class="co">#&gt; $ entities                      &lt;list&gt; [[&lt;data.frame[1 x 2]&gt;], [&lt;data.frame[1 x 2]&gt;],…</span></span>
<span><span class="co">#&gt; $ source                        &lt;chr&gt; "&lt;a href=\"https://mobile.twitter.com\" rel=\"n…</span></span>
<span><span class="co">#&gt; $ in_reply_to_status_id         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ in_reply_to_status_id_str     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ in_reply_to_user_id           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ in_reply_to_user_id_str       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ in_reply_to_screen_name       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ geo                           &lt;list&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ coordinates                   &lt;list&gt; [&lt;data.frame[1 x 3]&gt;], [&lt;data.frame[1 x 3]&gt;], …</span></span>
<span><span class="co">#&gt; $ place                         &lt;list&gt; [&lt;data.frame[1 x 3]&gt;], [&lt;data.frame[1 x 3]&gt;], …</span></span>
<span><span class="co">#&gt; $ contributors                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ is_quote_status               &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span></span>
<span><span class="co">#&gt; $ retweet_count                 &lt;int&gt; 4, 28, 2, 2, 2, 9, 9, 9, 9, 9, 1, 9, 9, 9, 9, 9…</span></span>
<span><span class="co">#&gt; $ favorite_count                &lt;int&gt; 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0,…</span></span>
<span><span class="co">#&gt; $ favorited                     &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span></span>
<span><span class="co">#&gt; $ retweeted                     &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span></span>
<span><span class="co">#&gt; $ possibly_sensitive            &lt;lgl&gt; NA, NA, NA, NA, FALSE, NA, NA, NA, NA, NA, FALS…</span></span>
<span><span class="co">#&gt; $ lang                          &lt;chr&gt; "en", "en", "en", "en", "en", "en", "en", "en",…</span></span>
<span><span class="co">#&gt; $ retweeted_status              &lt;list&gt; [&lt;data.frame[1 x 30]&gt;], [&lt;data.frame[1 x 30]&gt;]…</span></span>
<span><span class="co">#&gt; $ quoted_status_id              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1.21854…</span></span>
<span><span class="co">#&gt; $ quoted_status_id_str          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "121854…</span></span>
<span><span class="co">#&gt; $ quoted_status_permalink       &lt;list&gt; [&lt;data.frame[1 x 3]&gt;], [&lt;data.frame[1 x 3]&gt;], …</span></span>
<span><span class="co">#&gt; $ quoted_status                 &lt;list&gt; [&lt;data.frame[1 x 26]&gt;], [&lt;data.frame[1 x 26]&gt;]…</span></span>
<span><span class="co">#&gt; $ text                          &lt;chr&gt; "RT @RoutledgeEd: Congrats to authors Joseph Re…</span></span>
<span><span class="co">#&gt; $ favorited_by                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ scopes                        &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ display_text_width            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ quote_count                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ timestamp_ms                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ reply_count                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ filter_level                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ metadata                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ query                         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ withheld_scope                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ withheld_copyright            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ withheld_in_countries         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ possibly_sensitive_appealable &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ user_id                       &lt;dbl&gt; 1.251952e+18, 3.294167e+09, 9.225363e+17, 8.048…</span></span>
<span><span class="co">#&gt; $ user_id_str                   &lt;chr&gt; "1251951804398669825", "3294167372", "922536306…</span></span>
<span><span class="co">#&gt; $ name                          &lt;chr&gt; "Harriet Watkins", "Augusta Avram", "AECT GSA",…</span></span>
<span><span class="co">#&gt; $ screen_name                   &lt;chr&gt; "Harriet96152202", "ELTAugusta", "gsa_aect", "A…</span></span>
<span><span class="co">#&gt; $ location                      &lt;chr&gt; "", "British Columbia, Canada", "", "", "Moscow…</span></span>
<span><span class="co">#&gt; $ description                   &lt;chr&gt; "Love educational technology, online learning a…</span></span>
<span><span class="co">#&gt; $ url                           &lt;chr&gt; "https://t.co/ztRaRj9BLo", "https://t.co/OpLrmt…</span></span>
<span><span class="co">#&gt; $ protected                     &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span></span>
<span><span class="co">#&gt; $ followers_count               &lt;int&gt; 7, 789, 452, 2050, 2253, 452, 861, 1553, 1719, …</span></span>
<span><span class="co">#&gt; $ friends_count                 &lt;int&gt; 17, 1325, 47, 15, 1362, 47, 482, 714, 728, 0, 1…</span></span>
<span><span class="co">#&gt; $ listed_count                  &lt;int&gt; 0, 0, 4, 57, 178, 4, 6, 0, 149, 98, 124, 12, 12…</span></span>
<span><span class="co">#&gt; $ user_created_at               &lt;chr&gt; "Sun Apr 19 19:12:33 +0000 2020", "Sun Jul 26 0…</span></span>
<span><span class="co">#&gt; $ favourites_count              &lt;int&gt; 9, 5096, 147, 772, 4252, 147, 254, 4681, 6669, …</span></span>
<span><span class="co">#&gt; $ verified                      &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span></span>
<span><span class="co">#&gt; $ statuses_count                &lt;int&gt; 9, 7313, 2351, 1388, 12144, 2351, 261, 4980, 11…</span></span>
<span><span class="co">#&gt; $ profile_image_url_https       &lt;chr&gt; "https://pbs.twimg.com/profile_images/125195195…</span></span>
<span><span class="co">#&gt; $ profile_banner_url            &lt;chr&gt; "https://pbs.twimg.com/profile_banners/12519518…</span></span>
<span><span class="co">#&gt; $ default_profile               &lt;lgl&gt; TRUE, FALSE, TRUE, TRUE, FALSE, TRUE, FALSE, FA…</span></span>
<span><span class="co">#&gt; $ default_profile_image         &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span></span>
<span><span class="co">#&gt; $ user_withheld_in_countries    &lt;list&gt; [], [], [], [], [], [], [], [], [], [], [], []…</span></span>
<span><span class="co">#&gt; $ derived                       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ user_withheld_scope           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ user_entities                 &lt;list&gt; [[&lt;data.frame[1 x 5]&gt;], [&lt;data.frame[1 x 5]&gt;]]…</span></span></code></pre></div>
<p>At this point, the purpose of <strong>tidytags</strong> should be
restated. TAGS tweet trackers are easily set up and maintained, and they
do an excellent job passively collecting tweets over time. For instance,
the example TAGS tracker we demo here has collected thousands of tweets
related to the AECT 2019 annual convention since September 30, 2019. In
contrast, running this query now using
<code><a href="https://docs.ropensci.org/rtweet/reference/search_tweets.html" class="external-link">rtweet::search_tweets()</a></code> is limited by Twitter’s API,
meaning that an <strong>rtweet</strong> search can only go back in time
6-9 days, and is limited to returning at most 18,000 tweets per query.
So, if you are interested in tweets about AECT 2019, today you could get
almost no meaningful data using <strong>rtweet</strong> alone.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rtweet_today</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">rtweet</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/rtweet/reference/search_tweets.html" class="external-link">search_tweets</a></span><span class="op">(</span><span class="st">"#aect19 OR #aect2019 OR #aect19inspired"</span><span class="op">)</span></span></code></pre></div>
<p>You can see that an <strong>rtweet</strong> search for #AECT19 tweets
run today returns 0tweets.</p>
<p>In sum, although a TAGS tracker is great for easily collecting tweets
over time (breadth), it lacks depth in terms of metadata related to the
gathered tweets. Specifically, TAGS returns information on at most 18
variables; in contrast, <strong>rtweet</strong> returns information on
66 variables. Thus, <strong>tidytags</strong> brings together the
breadth of TAGS with the depth of <strong>rtweet</strong>.</p>
</div>
<div class="section level2">
<h2 id="lookup_many_tweets">lookup_many_tweets()<a class="anchor" aria-label="anchor" href="#lookup_many_tweets"></a>
</h2>
<p>The Twitter API only allows the looking up of 90,000 tweet IDs at a
time, a rate limit which resets after 15 minutes. Hence
<code><a href="https://docs.ropensci.org/rtweet/reference/lookup_tweets.html" class="external-link">rtweet::lookup_tweets()</a></code> will only return results for the
first 90,000 tweet IDs in your dataset. The function
<code><a href="../reference/lookup_many_tweets.html">tidytags::lookup_many_tweets()</a></code> will automatically divide
your dataset into batches of 90,000 tweets, looking up one batch per 15
minutes until finished. Note that <code><a href="../reference/lookup_many_tweets.html">lookup_many_tweets()</a></code> also
works for datasets with fewer than 90,000 tweets.</p>
<p>Because our AECT 2019 examples includes fewer than 90,000 tweets (and
because <code><a href="../reference/lookup_many_tweets.html">lookup_many_tweets()</a></code> involves waiting for 15
minutes between batches), we do not include an example here. However,
this function can be used in the same way as
<code><a href="../reference/pull_tweet_data.html">pull_tweet_data()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="get_upstream_tweets">get_upstream_tweets()<a class="anchor" aria-label="anchor" href="#get_upstream_tweets"></a>
</h2>
<p>If your research questions conceptualize your tweet dataset as a
conversation or affinity space, it may be useful to retrieve and add
additional tweets. Specifically, TAGS collects tweets that contain one
or more keywords or text strings. For example, the TAGS tracker we have
been working with in this vignette collected tweets containing the
keywords: <code>#aect19</code> OR <code>#aect2019</code> OR
<code>#aect19inspired</code>. This is a reasonable approach, from a
researchers’ point of view. However, participants who have been
following or contributing to these hashtags would also see additional
tweets in these “conversations” because Twitter connects together tweets
that reply to other tweets into potentially lengthy <em>reply
threads</em>. Tweets in a reply thread are all displayed to a user
viewing tweets on Twitter’s platform, but because some tweets in a
thread may not contain the hashtag of interest, not all tweets in a
user’s experience of a conversation would be collected by TAGS.
Additionally, tweets contained in a reply thread but composed before the
TAGS tracker was initiated would also be left out of the dataset.</p>
<p>There is a solution to this problem. Because the Twitter API offers a
<code>in_reply_to_status_id_str</code> column, it is possible to
iteratively reconstruct reply threads in an <em>upstream</em> direction,
that is, retrieving tweets composed earlier than replies in the dataset.
We include the <code><a href="../reference/get_upstream_tweets.html">get_upstream_tweets()</a></code> function in
<strong>tidytags</strong> to streamline this process. We also print
output at each iteration to demonstrate how the process is
progressing.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_with_upstream</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/get_upstream_tweets.html">get_upstream_tweets</a></span><span class="op">(</span><span class="va">example_after_rtweet</span><span class="op">)</span></span></code></pre></div>
<p>The dataset contained 2195 tweets at the start. Running
<code><a href="../reference/get_upstream_tweets.html">get_upstream_tweets()</a></code> added 29 new tweets.</p>
<p>Unfortunately, due to limitations in what information is provided by
the Twitter API, it is not practical to retrieve <em>downstream</em>
replies, or those tweets in a reply thread that follow a tweet in the
dataset but neglect to include the hashtag or keyword.</p>
</div>
<div class="section level2">
<h2 id="process_tweets">process_tweets()<a class="anchor" aria-label="anchor" href="#process_tweets"></a>
</h2>
<p>After <code><a href="../reference/pull_tweet_data.html">pull_tweet_data()</a></code> is used to collect additional
information from TAGS tweet IDs (in this case, the
<code>example_after_rtweet</code> dataframe), the
<strong>tidytags</strong> function <code><a href="../reference/process_tweets.html">process_tweets()</a></code> can be
used to calculate additional attributes and add these to the dataframe
as new columns. Specifically, five new variables are added:
mentions_count, hashtags_count, urls_count, tweet_type, and
is_self_reply. This results in 71 variables associated with the
collected tweets.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_processed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_tweets.html">process_tweets</a></span><span class="op">(</span><span class="va">example_after_rtweet</span><span class="op">)</span></span></code></pre></div>
<p>Notice that you now have 71 variables associated 2195 tweets.</p>
<p>At this point, depending on your research questions, you may wish to
calculate some descriptive statistics associated with this tweet data.
For instance, the mean and standard deviation of <em>hashtags per
tweet</em>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mean_hash</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">example_processed</span><span class="op">$</span><span class="va">hashtags_count</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">sd_hash</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">example_processed</span><span class="op">$</span><span class="va">hashtags_count</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>This shows that the mean number of hashtags per tweet is 1.48 with a
standard deviation of SD = 1.36.</p>
<p>Or, perhaps, the mean, median, and max number of <em>mentions per
tweet</em> would be useful to know:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mean_mentions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">example_processed</span><span class="op">$</span><span class="va">mentions_count</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">sd_mentions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">example_processed</span><span class="op">$</span><span class="va">mentions_count</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">median_mentions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">example_processed</span><span class="op">$</span><span class="va">mentions_count</span><span class="op">)</span></span>
<span><span class="va">max_mentions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">example_processed</span><span class="op">$</span><span class="va">mentions_count</span><span class="op">)</span></span></code></pre></div>
<p>The mean number of mentions per tweet is 1.35 (SD = 1.31). The median
is 1, and the maximum number of mentions in a tweet is 14.</p>
</div>
<div class="section level2">
<h2 id="get_url_domain">get_url_domain()<a class="anchor" aria-label="anchor" href="#get_url_domain"></a>
</h2>
<p>The <strong>tidytags</strong> function <code><a href="../reference/get_url_domain.html">get_url_domain()</a></code>
combines the <code>expand_urls()</code> function from the
<strong>longurl</strong> package and the <code>domain()</code> function
from the <strong>urltools</strong> package to easily return the domain
names of any hyperlinks including in tweets.</p>
<p>As an example, <code><a href="../reference/get_url_domain.html">get_url_domain()</a></code> finds that the domain in
the shortened URL <code>bit.ly/2SfWO3K</code> is
<code>aect.org</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_url_domain.html">get_url_domain</a></span><span class="op">(</span><span class="st">"bit.ly/2SfWO3K"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "aect.org"</span></span></code></pre></div>
<p>It may also be of interest to examine which websites are linked to
most often in your dataset. <code><a href="../reference/get_url_domain.html">get_url_domain()</a></code> can be
combined with a function from base R like <code><a href="https://rdrr.io/r/base/table.html" class="external-link">table()</a></code> to
calculate frequency counts for domains present in the dataset. This
process is useful to get a picture of to where else on the Internet
tweeters are directing their readers’ attention.</p>
<p>Keep in mind, however, that this process takes a bit of time.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_urls</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">example_processed</span>, <span class="va">urls_count</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">urls_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">example_urls</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">urls_list</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">example_urls</span><span class="op">$</span><span class="va">entities</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">urls</span><span class="op">$</span><span class="va">expanded_url</span></span>
<span><span class="op">}</span></span>
<span><span class="va">urls_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">urls_list</span><span class="op">)</span></span>
<span><span class="va">example_domains</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_url_domain.html">get_url_domain</a></span><span class="op">(</span><span class="va">urls_vector</span><span class="op">)</span></span>
<span><span class="va">domain_table</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">example_domains</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">domain_table_sorted</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">domain_table</span>, <span class="fu">desc</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">domain_table_sorted</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 20 × 2</span></span>
<span><span class="co">#&gt;    example_domains                 n</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                       &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 twitter.com                   127</span></span>
<span><span class="co">#&gt;  2 convention2.allacademic.com    35</span></span>
<span><span class="co">#&gt;  3 instagram.com                  24</span></span>
<span><span class="co">#&gt;  4 aect.org                       20</span></span>
<span><span class="co">#&gt;  5 docs.google.com                12</span></span>
<span><span class="co">#&gt;  6 youtube.com                    11</span></span>
<span><span class="co">#&gt;  7 drive.google.com                8</span></span>
<span><span class="co">#&gt;  8 caranorth.com                   7</span></span>
<span><span class="co">#&gt;  9 nodexlgraphgallery.org          7</span></span>
<span><span class="co">#&gt; 10 sites.google.com                7</span></span>
<span><span class="co">#&gt; 11 apps.apple.com                  6</span></span>
<span><span class="co">#&gt; 12 litnet.co.za                    6</span></span>
<span><span class="co">#&gt; 13 isfsu.blogspot.com              5</span></span>
<span><span class="co">#&gt; 14 tecfa.unige.ch                  5</span></span>
<span><span class="co">#&gt; 15 viral-notebook.com              5</span></span>
<span><span class="co">#&gt; 16 app.core-apps.com               4</span></span>
<span><span class="co">#&gt; 17 flipsnack.com                   4</span></span>
<span><span class="co">#&gt; 18 linkedin.com                    4</span></span>
<span><span class="co">#&gt; 19 play.google.com                 4</span></span>
<span><span class="co">#&gt; 20 springer.com                    4</span></span></code></pre></div>
<p>Unsurprisingly, in this dataset, by far the most common domain (as of
August 5, 2022) was “twitter.com”, meaning that AECT 2019 tweeters were
linking most often to other Twitter content. Other common domains
included “convention2.allacademic.com” (i.e., the host of the conference
website, including the schedule and session information) as well as
“instagram.com” and “youtube.com”, where tweeters likely shared
conference-related content.</p>
</div>
<div class="section level2">
<h2 id="filter_by_tweet_type">filter_by_tweet_type()<a class="anchor" aria-label="anchor" href="#filter_by_tweet_type"></a>
</h2>
<p>This function quickly subsets the data, returning just the tweets of
the type indicated (e.g., <code>filter_by_tweet_type(df, "reply")</code>
returns only reply tweets). The <code><a href="../reference/filter_by_tweet_type.html">filter_by_tweet_type()</a></code>
function can also be used to look at how many tweets of each type are
present in the dataset.</p>
<p>In the dataset of 2195 tweets, there are 62 replies, 1146 retweets,
100 quote tweets, and 457 tweets that are not replies, retweets, or
quote tweets.</p>
</div>
<div class="section level2">
<h2 id="create_edgelist">create_edgelist()<a class="anchor" aria-label="anchor" href="#create_edgelist"></a>
</h2>
<p>Another useful approach to social media research is <em>social
network analysis</em>. Getting started with social network analysis is
as simple as producing an <strong>edgelist</strong>, a two-column
dataframe listing <em>senders</em> and <em>receivers</em>. An edgelist
gives a complete accounting of whom is interacting with whom. In
Twitter, this is complicated somewhat by the number of ways a user is
able to interact with someone else, namely, through replying,
retweeting, quote tweeting, mentioning, and liking tweets. The
<strong>tidytags</strong> function <code><a href="../reference/create_edgelist.html">create_edgelist()</a></code> uses
<code><a href="../reference/filter_by_tweet_type.html">filter_by_tweet_type()</a></code> to create an edgelist that takes
into account three of these types of interaction.
<code><a href="../reference/create_edgelist.html">create_edgelist()</a></code> returns a dataframe with three columns:
two for the sender and receiver Twitter handles, and a third column
listing the tweet type (i.e., the form of interaction). The default is
for <code><a href="../reference/create_edgelist.html">create_edgelist()</a></code> to create an edgelist of all possible
interactions, but focusing on one type of interaction is easily
accomplished as well (e.g., looking at interactions through replies
using <code>create_edgelist(df, "reply")</code>).</p>
<p>Run <code><a href="../reference/create_edgelist.html">create_edgelist()</a></code> after completing
<code><a href="../reference/get_upstream_tweets.html">get_upstream_tweets()</a></code> and <code><a href="../reference/process_tweets.html">process_tweets()</a></code> for
a complete picture of the interactions.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_edgelist</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_edgelist.html">create_edgelist</a></span><span class="op">(</span><span class="fu"><a href="../reference/process_tweets.html">process_tweets</a></span><span class="op">(</span><span class="va">example_with_upstream</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">example_edgelist</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt;    tweet_type         sender        receiver</span></span>
<span><span class="co">#&gt; 1       reply  nicolapallitt     eromerohall</span></span>
<span><span class="co">#&gt; 2       reply       jeroen69         vdennen</span></span>
<span><span class="co">#&gt; 3       reply    jmenglund03        bonni208</span></span>
<span><span class="co">#&gt; 4       reply          DKSch           DKSch</span></span>
<span><span class="co">#&gt; 5       reply          DKSch           DKSch</span></span>
<span><span class="co">#&gt; 6       reply      _valeriei     eromerohall</span></span>
<span><span class="co">#&gt; 7       reply    jmenglund03       SBarksway</span></span>
<span><span class="co">#&gt; 8       reply       DrTerriC       mete_akca</span></span>
<span><span class="co">#&gt; 9       reply       pazureka       SBarksway</span></span>
<span><span class="co">#&gt; 10      reply       pazureka       SBarksway</span></span>
<span><span class="co">#&gt; 11      reply    TAmankwatia     TAmankwatia</span></span>
<span><span class="co">#&gt; 12      reply PaulineMuljana       robmoore3</span></span>
<span><span class="co">#&gt; 13      reply          yinbk    DrVirtuality</span></span>
<span><span class="co">#&gt; 14      reply    arasbozkurt     arasbozkurt</span></span>
<span><span class="co">#&gt; 15      reply    arasbozkurt     arasbozkurt</span></span>
<span><span class="co">#&gt; 16      reply    arasbozkurt     eromerohall</span></span>
<span><span class="co">#&gt; 17      reply      correia65   AnnaRoseLeach</span></span>
<span><span class="co">#&gt; 18      reply    jmenglund03  PaulineMuljana</span></span>
<span><span class="co">#&gt; 19      reply PaulineMuljana AmyLomellini_ID</span></span>
<span><span class="co">#&gt; 20      reply  teacherrogers   teacherrogers</span></span></code></pre></div>
<p>We can then easily visualize the edgelist as a sociogram using the
<strong>tidygraph</strong> and <strong>ggraph</strong> packages.</p>
<p>First, create a graph object using <strong>tidygraph</strong>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"tidygraph"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">example_graph</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu">tidygraph</span><span class="fu">::</span><span class="fu"><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html" class="external-link">as_tbl_graph</a></span><span class="op">(</span><span class="va">example_edgelist</span><span class="op">)</span></span>
<span>  <span class="va">example_graph</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">example_graph</span>,</span>
<span>                  popularity <span class="op">=</span> <span class="fu">tidygraph</span><span class="fu">::</span><span class="fu"><a href="https://tidygraph.data-imaginist.com/reference/centrality.html" class="external-link">centrality_degree</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">'in'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then plot using <strong>ggraph</strong>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"ggraph"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"ggplot2"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">ggraph</span><span class="fu">::</span><span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html" class="external-link">ggraph</a></span><span class="op">(</span><span class="va">example_graph</span>, layout <span class="op">=</span> <span class="st">'kk'</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">ggraph</span><span class="fu">::</span><span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_edge_arc.html" class="external-link">geom_edge_arc</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.2</span>,</span>
<span>                          width <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>                          strength <span class="op">=</span> <span class="fl">.5</span>,</span>
<span>                          edge_colour <span class="op">=</span> <span class="st">'steelblue'</span></span>
<span>    <span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">ggraph</span><span class="fu">::</span><span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html" class="external-link">geom_node_point</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.4</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">popularity</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_size.html" class="external-link">scale_size</a></span><span class="op">(</span>range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="vignette-network-visualization-1.png" title="plot of chunk network-visualization" alt="plot of chunk network-visualization" width="100%"></p>
<p>Running <code><a href="../reference/create_edgelist.html">create_edgelist()</a></code> also provides a simple way to
re-look at how many tweets of each type are present in the dataset,
using the <code>count()</code> function from <strong>dplyr</strong>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">example_edgelist</span>, <span class="va">tweet_type</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;   tweet_type    n</span></span>
<span><span class="co">#&gt; 1    retweet 1146</span></span>
<span><span class="co">#&gt; 2      quote  108</span></span>
<span><span class="co">#&gt; 3      reply   71</span></span></code></pre></div>
<p>Note that <code><a href="../reference/create_edgelist.html">create_edgelist()</a></code> does not yet accept
<code>type = "mention"</code> or <code>type = "like"</code> parameters
due to the complicated ways mentions are included in tweets as well as
limitations of the information provided by the Twitter API.</p>
</div>
<div class="section level2">
<h2 id="add_users_data">add_users_data()<a class="anchor" aria-label="anchor" href="#add_users_data"></a>
</h2>
<p>Finally, <strong>tidytags</strong> also has functionality to add
user-level data to an edgelist through the function
<code><a href="../reference/add_users_data.html">add_users_data()</a></code>. These additional features are very useful
when taking an inferential approach to social network analysis, such as
building <em>influence</em> or <em>selection</em> models.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example_senders_receivers_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_users_data.html">add_users_data</a></span><span class="op">(</span><span class="va">example_edgelist</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">example_senders_receivers_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1,325</span></span>
<span><span class="co">#&gt; Columns: 47</span></span>
<span><span class="co">#&gt; $ tweet_type                       &lt;chr&gt; "reply", "reply", "reply", "reply", "reply",…</span></span>
<span><span class="co">#&gt; $ sender                           &lt;chr&gt; "nicolapallitt", "jeroen69", "jmenglund03", …</span></span>
<span><span class="co">#&gt; $ receiver                         &lt;chr&gt; "eromerohall", "vdennen", "bonni208", "DKSch…</span></span>
<span><span class="co">#&gt; $ sender_id                        &lt;dbl&gt; 1.183683e+08, 6.848632e+06, 6.476904e+07, 3.…</span></span>
<span><span class="co">#&gt; $ sender_id_str                    &lt;chr&gt; "118368334", "6848632", "64769037", "3865781…</span></span>
<span><span class="co">#&gt; $ sender_name                      &lt;chr&gt; "Dr Nicola Pallitt", "Jeroen", "jennιғer eng…</span></span>
<span><span class="co">#&gt; $ sender_location                  &lt;chr&gt; "Grahamstown, South Africa", "Boise, ID", "S…</span></span>
<span><span class="co">#&gt; $ sender_description               &lt;chr&gt; "EdTech @Rhodes_Uni working in @CHERTL_RU &amp; …</span></span>
<span><span class="co">#&gt; $ sender_url                       &lt;chr&gt; "https://t.co/p1veXbw0pP", "https://t.co/GEk…</span></span>
<span><span class="co">#&gt; $ sender_protected                 &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span></span>
<span><span class="co">#&gt; $ sender_followers_count           &lt;int&gt; 1753, 378, 663, 290, 290, 6324, 663, 5297, 1…</span></span>
<span><span class="co">#&gt; $ sender_friends_count             &lt;int&gt; 1924, 379, 627, 86, 86, 6280, 627, 5825, 461…</span></span>
<span><span class="co">#&gt; $ sender_listed_count              &lt;int&gt; 127, 7, 72, 15, 15, 416, 72, 261, 44, 44, 33…</span></span>
<span><span class="co">#&gt; $ sender_created_at                &lt;dttm&gt; 2010-02-28 08:13:53, 2007-06-16 03:10:38, 2…</span></span>
<span><span class="co">#&gt; $ sender_favourites_count          &lt;int&gt; 2040, 2847, 2052, 228, 228, 15749, 2052, 946…</span></span>
<span><span class="co">#&gt; $ sender_verified                  &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span></span>
<span><span class="co">#&gt; $ sender_statuses_count            &lt;int&gt; 7157, 1537, 2918, 643, 643, 57099, 2918, 269…</span></span>
<span><span class="co">#&gt; $ sender_profile_image_url_https   &lt;chr&gt; "https://pbs.twimg.com/profile_images/122079…</span></span>
<span><span class="co">#&gt; $ sender_profile_banner_url        &lt;chr&gt; "https://pbs.twimg.com/profile_banners/11836…</span></span>
<span><span class="co">#&gt; $ sender_default_profile           &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span></span>
<span><span class="co">#&gt; $ sender_default_profile_image     &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span></span>
<span><span class="co">#&gt; $ sender_withheld_in_countries     &lt;list&gt; [], [], [], [], [], [], [], [], [], [], [],…</span></span>
<span><span class="co">#&gt; $ sender_derived                   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ sender_withheld_scope            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ sender_entities                  &lt;list&gt; [[&lt;data.frame[1 x 5]&gt;], [&lt;data.frame[1 x 5]…</span></span>
<span><span class="co">#&gt; $ receiver_id                      &lt;dbl&gt; 9.187479e+08, 1.423597e+08, 1.477788e+07, 3.…</span></span>
<span><span class="co">#&gt; $ receiver_id_str                  &lt;chr&gt; "918747876", "142359679", "14777884", "38657…</span></span>
<span><span class="co">#&gt; $ receiver_name                    &lt;chr&gt; "Dr. Enilda Romero-Hall (She/Her)", "Vanessa…</span></span>
<span><span class="co">#&gt; $ receiver_location                &lt;chr&gt; "🇵🇦🇨🇦🇺🇸", "Tallahassee, FL", "Orange County,…</span></span>
<span><span class="co">#&gt; $ receiver_description             &lt;chr&gt; "Associate Professor @UTKnoxville | Learning…</span></span>
<span><span class="co">#&gt; $ receiver_url                     &lt;chr&gt; "https://t.co/bIbSToCw8t", "https://t.co/2br…</span></span>
<span><span class="co">#&gt; $ receiver_protected               &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span></span>
<span><span class="co">#&gt; $ receiver_followers_count         &lt;int&gt; 1773, 1151, 7415, 290, 290, 1773, 329, 764, …</span></span>
<span><span class="co">#&gt; $ receiver_friends_count           &lt;int&gt; 1345, 759, 3538, 86, 86, 1345, 480, 501, 480…</span></span>
<span><span class="co">#&gt; $ receiver_listed_count            &lt;int&gt; 87, 40, 294, 15, 15, 87, 5, 28, 5, 5, 33, 57…</span></span>
<span><span class="co">#&gt; $ receiver_created_at              &lt;dttm&gt; 2012-11-01 06:56:04, 2010-05-10 13:39:35, 2…</span></span>
<span><span class="co">#&gt; $ receiver_favourites_count        &lt;int&gt; 7326, 1097, 23383, 228, 228, 7326, 2160, 196…</span></span>
<span><span class="co">#&gt; $ receiver_verified                &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span></span>
<span><span class="co">#&gt; $ receiver_statuses_count          &lt;int&gt; 422, 2102, 20642, 643, 643, 422, 428, 1942, …</span></span>
<span><span class="co">#&gt; $ receiver_profile_image_url_https &lt;chr&gt; "https://pbs.twimg.com/profile_images/141641…</span></span>
<span><span class="co">#&gt; $ receiver_profile_banner_url      &lt;chr&gt; "https://pbs.twimg.com/profile_banners/91874…</span></span>
<span><span class="co">#&gt; $ receiver_default_profile         &lt;lgl&gt; FALSE, TRUE, TRUE, FALSE, FALSE, FALSE, TRUE…</span></span>
<span><span class="co">#&gt; $ receiver_default_profile_image   &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span></span>
<span><span class="co">#&gt; $ receiver_withheld_in_countries   &lt;list&gt; [], [], [], [], [], [], [], [], [], [], [],…</span></span>
<span><span class="co">#&gt; $ receiver_derived                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ receiver_withheld_scope          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ receiver_entities                &lt;list&gt; [[&lt;data.frame[1 x 5]&gt;], [&lt;data.frame[1 x 5]…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-help">Getting help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<p>{tidytags} is still a work in progress, so we fully expect that there
are still some bugs to work out and functions to document better. If you
find an issue, have a question, or think of something that you really
wish {tidytags} would do for you, don’t hesitate to <a href="mailto:bret@bretsw.com">email Bret</a> or reach out on Twitter: <a href="https://twitter.com/bretsw" class="external-link">@bretsw</a> and <a href="https://twitter.com/jrosenberg6432" class="external-link">@jrosenberg6432</a>.</p>
<p>You can also <a href="https://github.com/ropensci/tidytags/issues/" class="external-link">submit an issue on
GitHub</a>.</p>
<p>You may also wish to try some general troubleshooting strategies:</p>
<ul>
<li>Try to find out what the specific problem is
<ul>
<li>Identify what is <em>not</em> causing the problem</li>
</ul>
</li>
<li>“Unplug and plug it back in” - restart R, close and reopen R</li>
<li>Reach out to others! Sharing what is causing an issue can often help
to clarify the problem.
<ul>
<li>RStudio Community - <a href="https://community.rstudio.com/" class="external-link uri">https://community.rstudio.com/</a> (highly
recommended!)</li>
<li>Twitter hashtag: #rstats</li>
</ul>
</li>
<li>General strategies on learning more: <a href="https://datascienceineducation.com/c17.html" class="external-link uri">https://datascienceineducation.com/c17.html</a>
</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="http://bretsw.com/" class="external-link">K. Bret Staudt Willet</a>, <a href="https://joshuamrosenberg.com/" class="external-link">Joshua M. Rosenberg</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
